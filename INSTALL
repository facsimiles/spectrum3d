SPECTRUM 3D: 3D AUDIO SPECTRUM ANALYSER IN REAL TIME

Spectrum 3D dispays a 3D audio spectrogram in real time; the source can be either the microphone or an audio file or jack (jack-audio-connection-kit). It is build with the Gstreamer, SDL, OpenGl et Gtk free libraries and is under GPL license.

*******************
|  INSTALLATION:  |
*******************

1. dependencies:
"""""""""""""""

For Ubuntu 10.10, you have to install :
		- gcc, pkg-config;
		- libgtk+-2.0-dev;
		- lidsdl1.2-dev, libsdl-ttf2.0-dev;
		- libgl1-mesa-dev;
		- libgstreamer0.10-dev;
		- libjack-dev (for jack1) or libjack-jackd2-dev for jack2; if you don't use jack, the jackd package is not necessary; you choose either libjack-dev or libjack-jackd2-dev then just to allow the compilation;
		- gstreamer0.10-plugins-bad (Jack's support is now in the 'plugins-good' but the 'pugins-bad' are still somehow needed to have it working), gstreamer0.10-plugins-ugly et gstreamer0.10-plugins-ugly-multiverse (for reading files such as mp3);
		
	Fot the other distributions, the dependencies should be very similar.

2. not necessary for Ubuntu : check the font location :
""""""""""""""""""""""""""""""""""""""""""""""""""""""" 

In Ubuntu 10.10, we use the "/usr/share/fonts/truetype/freefont/FreeSans.ttf" for font rendering. I you use another distribution you should adapt this. To do this you have to change manually the path to the font in the sdlWindow.c around the line 462. This will available soon in the preferences. 


3. compilation : 
""""""""""""""""
 	1) go to the directory where the sources are; for example, if the directory containing the source files "spectrum3d-0.2-1" is in '/home/nestor', you'll type in terminal  : cd /home/nestor/spectrum3d-0.2.1 .

	2) Then copy and paste the following line : 

gcc -o spectrum `pkg-config jack gstreamer-0.10 gtk+-2.0 --libs --cflags` -lSDL -lSDL_ttf -lGL -lGLU  main.c onClick.c sdlWindow.c scale.c display.c text.c

that sould provide an executable binary called 'spectrum' in the directory where are the source; double click on it or run it in terminal. 


*********
|  USE  |
*********

All commands from keyboard and/mice works during playing or paused state.


GRAPHICAL INTERFACE :
"""""""""""""""""""""

Choce of the audio source : 
---------------------------
Source can be the microphone, an audio file or jack-audio-connection-kit; file format than can be read is very large since it is provided by Gstreamer. While playing an audio file, ">>" et "<<" allows to seek 5seconds forward or backard in the playing audio file.

	
Range of frequencies that can be analysed and displayed :
---------------------------------------------------------
The range of analysed frequencies go up to 20 000 Hz. The most precise zoom is 1000 Hz; the display can start higher than 0 Hz; for example, you can display from 2000 to 4000 Hz. The maximal precision is 2 Hz. The default display is from 0 to 6000 Hz.


Speed of display :
------------------
6 possible speeds.


Scale :
-------
The checkboxes 'Text' et 'Lines' allow the line scale and the numeric scale to appear; the checkbox 'Panels' allows "vertical separating panels" to appear whose height can be adjusted with the 'Panel height' cursor.


Temporal display :
------------------
The 'Depth' cursor dÃ©termines the lenght of the Z axis, which represents the time : at 0, the display is just a snapshot of the actual sound; at 2, you can see the maximum of ancient displays.


Display of the amplitude of the signal :
----------------------------------------
Adjusted by the 'gain' cursor.


KEYBOARD AND MOUSE SHORTCUTS :
""""""""""""""""""""""""""""""	
Some commands are ppossible by keyboard or keyborad and mouse combination. Every mouse commands are done with the left click.

Command			Keyboard		Mouse (+/-keyboard)
================================================================================================================================
Play/pause		Space bar
Stop			Escape
Rotate around X axis	Up/dowm			Mouse up/down
Rotate around Y axis	Right/left		Mouse right/left
Rotate around Z axis	'c' + Up/dowm		'c' + mouse up/down
Translate along X axis	'x' + left/right	'x' + mouse right/left
Translate along Y axis	'y' + up/down		'y' + mouse up/down
Translate along Z axis	'z' + up/down		'z' + mouse up/down
Increase/decrease Gain	'g' + up/down		'g' + mouse up/down
Change starting 
of the zoom		's' + up/down
Read small 50 msec 
samples	of a paused
audio file		'v' + left


*********************
|  IMPORTANT NOTES  |
*********************

1. Although it is 3D with OpenGL, the drivers allowing 3D acceleration are not needed, but it can help to have a better rendering.

2. Spectrum 3D can use a lot of CPU, given the real-time analysis and display of the data's. 3 aspects are inportants : the power of the processor, the performance of the graphic card (with or without the 3D drivers) and the type of kernel that is beeing used (a preempt or real-time will have better performance. The amount of work is proportionnal to the width of the window, which is by fefault the smallest (700 pixels) which should suit to many machines; size of the display can then be increased in Menu -> Edit -> Preferences; the maximal width is 1200 pixels, with works better with a more powerfull processor and a good graphic card.


Thank you for telling me whatever you want too and than you for your presence!

Victor 
nadaeck (at) hotmail (dot) com	


